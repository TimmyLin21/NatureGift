{"version":3,"sources":["webpack:///./src/views/front/Checkout.vue","webpack:///./src/components/front/ContactInfo.vue","webpack:///./src/components/front/ContactInfo.vue?4903","webpack:///./src/views/front/Checkout.vue?fec1","webpack:///./src/mixins/cartMixin.js","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["class","scope","colspan","width","height","carts","length","item","key","id","href","delCartItem","src","product","imageUrl","alt","title","unit","price","origin_price","editCart","type","qty","total","final_total","placeholder","aria-label","aria-describedby","couponCode","applyCoupon","apply","goShop","for","name","checkOut","errors","rules","data","user","email","isPhone","tel","address","message","methods","this","then","res","alert","msg","state","sendMsg","$emitter","emit","$router","push","orderId","catch","value","phoneNumber","test","mixins","alertMixin","__exports__","components","ContactInfo","cartMixin","render","getCart","action","err","response","created","mounted","on","watch","n","o","last","JSON","stringify","pre","$","global","getBuiltIn","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","i","l","arguments","args","result"],"mappings":"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","file":"js/chunk-087aaa83.7790bc85.js","sourcesContent":["<template>\n  <main class=\"container py-5 mt-100px mt-md-150px\">\n    <div class=\"steps mb-7\">\n      <div class=\"steps__circle steps__circle-active\">\n        <BIconCart\n          width=\"2rem\"\n          height=\"2rem\"\n        />\n        <div class=\"steps__text\">\n          <p>Checkout</p>\n        </div>\n      </div>\n      <div class=\"steps__circle\">\n        <BIconCreditCard\n          width=\"2rem\"\n          height=\"2rem\"\n        />\n        <div class=\"steps__text\">\n          <p>Payment</p>\n        </div>\n      </div>\n      <div class=\"steps__circle\">\n        <BIconStar\n          width=\"2rem\"\n          height=\"2rem\"\n        />\n        <div class=\"steps__text\">\n          <p>Finish</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"row gx-md-5\">\n      <section class=\"col-12 col-md-7 mb-4\">\n        <h2\n          class=\"mb-4\"\n          :class=\"{'visually-hidden': carts.length === 0}\"\n        >\n          Your cart\n        </h2>\n        <template v-if=\"carts.length > 0\">\n          <div class=\"table-responsive mb-5\">\n            <table\n              class=\"table mb-5\"\n            >\n              <thead>\n                <tr>\n                  <th\n                    scope=\"col\"\n                    colspan=\"3\"\n                  >\n                    Product\n                  </th>\n                  <th scope=\"col\">\n                    Price\n                  </th>\n                  <th scope=\"col\">\n                    Quantity\n                  </th>\n                  <th scope=\"col\">\n                    Total\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"item in carts\"\n                  :key=\"item.id\"\n                  class=\"align-middle\"\n                >\n                  <td>\n                    <a\n                      href=\"#\"\n                      class=\"link-danger\"\n                      @click.prevent=\"delCartItem(item.id)\"\n                    >\n                      <BIconTrash />\n                    </a>\n                  </td>\n                  <td width=\"100px\">\n                    <img\n                      :src=\"item.product.imageUrl\"\n                      :alt=\"item.product.title\"\n                      class=\"w-100px h-50px object-cover object-position-center\"\n                    >\n                  </td>\n                  <td>\n                    <p class=\"mb-0\">\n                      {{ item.product.title }}\n                    </p>\n                    <small class=\"text-start\">Size: {{ item.product.unit }}</small>\n                  </td>\n                  <td>\n                    <template v-if=\"item.product.price !== item.product.origin_price\">\n                      <p class=\"mb-0 text-nowrap\">\n                        <del class=\"text-danger\">NT$ {{ item.product.origin_price }}</del>\n                      </p>\n                      <p class=\"mb-0\">\n                        NT$ {{ item.product.price }}\n                      </p>\n                    </template>\n                    <template v-else>\n                      <p class=\"mb-0\">\n                        NT$ {{ item.product.origin_price }}\n                      </p>\n                    </template>\n                  </td>\n                  <td width=\"10%\">\n                    <div class=\"qty\">\n                      <span><BIconDashCircle @click=\"editCart(item, '-')\" /></span>\n                      <input\n                        class=\"text-center\"\n                        type=\"number\"\n                        v-model.number=\"item.qty\"\n                        @change=\"editCart(item)\"\n                      >\n                      <span><BIconPlusCircle @click=\"editCart(item, '+')\" /></span>\n                    </div>\n                  </td>\n                  <td class=\"text-nowrap\">\n                    NT$ {{ item.total }}\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td colspan=\"3\">\n                    Subtotal\n                  </td>\n                  <td\n                    colspan=\"3\"\n                    class=\"text-end text-danger\"\n                    v-if=\"total !== final_total\"\n                  >\n                    <del>NTD$ {{ total }}</del>\n                  </td>\n                  <td\n                    colspan=\"3\"\n                    class=\"text-end\"\n                    v-else\n                  >\n                    NTD$ {{ final_total }}\n                  </td>\n                </tr>\n                <tr v-if=\"total !== final_total\">\n                  <td\n                    colspan=\"6\"\n                    class=\"text-end border-bottom-0\"\n                  >\n                    NTD$ {{ final_total }}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n          <div class=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"Coupon\"\n              aria-label=\"Coupon\"\n              aria-describedby=\"coupon-apply\"\n              v-model=\"couponCode\"\n            >\n            <button\n              class=\"btn btn-outline-secondary\"\n              type=\"button\"\n              id=\"coupon-apply\"\n              @click=\"applyCoupon\"\n            >\n              Apply\n            </button>\n          </div>\n        </template>\n        <template v-else>\n          <p class=\"fw-bold h3 mt-7 mb-1\">\n            Your cart is empty\n          </p>\n          <p class=\"d-block mb-5 text-muted mt-5\">\n            Looks like you haven't made a choice\n          </p>\n          <button\n            class=\"btn btn-secondary w-25 mb-7\"\n            @click=\"goShop\"\n          >\n            Shop now\n          </button>\n        </template>\n      </section>\n      <ContactInfo />\n    </div>\n  </main>\n</template>\n\n<script>\nimport cartMixin from '@/mixins/cartMixin';\nimport { applyCoupon } from '@/scripts/api';\nimport ContactInfo from '@/components/front/ContactInfo.vue';\n\nexport default {\n  data() {\n    return {\n      couponCode: '',\n    };\n  },\n  components: { ContactInfo },\n  methods: {\n    applyCoupon() {\n      applyCoupon(this.couponCode)\n        .then((res) => {\n          this.final_total = res.data.data.final_total;\n          this.alert.msg = 'Coupon applied successfully!';\n          this.alert.state = true;\n          this.sendMsg();\n        }).catch(() => {\n          this.alert.msg = 'Failed to apply coupon!';\n          this.alert.state = false;\n          this.sendMsg();\n          this.couponCode = '';\n        });\n    },\n    goShop() {\n      this.$router.push('/products');\n    },\n  },\n  mixins: [cartMixin],\n};\n</script>\n","<template>\n  <section class=\"col-12 col-md-5\">\n    <h2 class=\"mb-4\">\n      Contact Info\n    </h2>\n    <v-form\n      class=\"row g-3 text-start mb-4\"\n      @submit=\"checkOut\"\n      v-slot=\"{ errors }\"\n    >\n      <div class=\"col-12\">\n        <label\n          for=\"email\"\n          class=\"form-label\"\n          name=\"Email\"\n        >Email\n          <span class=\"text-danger\">*</span>\n        </label>\n        <v-field\n          type=\"email\"\n          id=\"email\"\n          class=\"form-control\"\n          name=\"Email\"\n          :class=\"{ 'is-invalid': errors['Email'] }\"\n          rules=\"required|email\"\n          placeholder=\"Please enter email\"\n          v-model=\"data.user.email\"\n        />\n        <ErrorMessage\n          name=\"Email\"\n          class=\"invalid-feedback\"\n        />\n      </div>\n      <div class=\"col-md-6\">\n        <label\n          for=\"name\"\n          class=\"form-label\"\n          name=\"Name\"\n        >Name\n          <span class=\"text-danger\">*</span>\n        </label>\n        <v-field\n          type=\"text\"\n          class=\"form-control\"\n          id=\"name\"\n          name=\"Name\"\n          :class=\"{ 'is-invalid': errors['Name'] }\"\n          rules=\"required\"\n          placeholder=\"Please enter name\"\n          v-model=\"data.user.name\"\n        />\n        <ErrorMessage\n          name=\"Name\"\n          class=\"invalid-feedback\"\n        />\n      </div>\n      <div class=\"col-md-6\">\n        <label\n          for=\"phone\"\n          class=\"form-label\"\n          name=\"Phone\"\n        >Phone\n          <span class=\"text-danger\">*</span>\n        </label>\n        <v-field\n          type=\"text\"\n          class=\"form-control\"\n          id=\"phone\"\n          name=\"Phone\"\n          :class=\"{ 'is-invalid': errors['Phone'] }\"\n          :rules=\"isPhone\"\n          placeholder=\"Please enter phone, 09xxxxxxxx\"\n          v-model=\"data.user.tel\"\n        />\n        <ErrorMessage\n          name=\"Phone\"\n          class=\"invalid-feedback\"\n        />\n      </div>\n      <div class=\"col-12\">\n        <label\n          for=\"address\"\n          class=\"form-label\"\n          name=\"Address\"\n        >Address\n          <span class=\"text-danger\">*</span>\n        </label>\n        <v-field\n          type=\"text\"\n          class=\"form-control\"\n          id=\"address\"\n          name=\"Address\"\n          :class=\"{ 'is-invalid': errors['Address'] }\"\n          rules=\"required\"\n          placeholder=\"Please enter address\"\n          v-model=\"data.user.address\"\n        />\n        <ErrorMessage\n          name=\"Address\"\n          class=\"invalid-feedback\"\n        />\n      </div>\n      <div class=\"col-12 mb-4\">\n        <label\n          for=\"notes\"\n          class=\"form-label\"\n          name=\"\"\n        >Notes</label>\n        <textarea\n          class=\"form-control\"\n          id=\"notes\"\n          placeholder=\"Notes about your order...\"\n        />\n      </div>\n      <div class=\"col-12 text-center\">\n        <button\n          class=\"c-btn\"\n          type=\"submit\"\n        >\n          <span class=\"c-btn__text\">Checkout</span>\n        </button>\n      </div>\n    </v-form>\n  </section>\n</template>\n\n<script>\nimport { postOrder } from '@/scripts/api';\nimport alertMixin from '@/mixins/alertMixin';\n\nexport default {\n  data() {\n    return {\n      data: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    checkOut() {\n      postOrder(this.data)\n        .then((res) => {\n          this.alert.msg = 'Order created successfully!';\n          this.alert.state = true;\n          this.sendMsg();\n          this.$emitter.emit('renewCart');\n          this.$router.push(`/payment/${res.data.orderId}`);\n        }).catch(() => {\n          this.alert.msg = 'Failed to create order!';\n          this.alert.state = false;\n          this.sendMsg();\n        });\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : 'Please enter correct phone number.';\n    },\n  },\n  mixins: [alertMixin],\n};\n</script>\n","import { render } from \"./ContactInfo.vue?vue&type=template&id=349f7440\"\nimport script from \"./ContactInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ContactInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/pinkpanther/Desktop/Front End/Vue/直播班/nature-gift/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Checkout.vue?vue&type=template&id=e8307402\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/pinkpanther/Desktop/Front End/Vue/直播班/nature-gift/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { getCart, editCart, delCartItem } from '@/scripts/api';\nimport alertMixin from '@/mixins/alertMixin';\n\nexport default {\n  data() {\n    return {\n      carts: [],\n      total: '',\n      final_total: '',\n    };\n  },\n  methods: {\n    getCart() {\n      getCart()\n        .then((res) => {\n          this.carts = res.data.data.carts;\n          this.total = res.data.data.total;\n          this.final_total = res.data.data.final_total;\n        });\n    },\n    editCart(item, action) {\n      let { qty } = item;\n      if (action === '+') {\n        qty += 1;\n      } else if (action === '-') {\n        qty -= (qty > 1 ? 1 : 0);\n      }\n      editCart(item.id, qty)\n        .then(() => {\n          this.alert.msg = 'Product edited successfully!';\n          this.alert.state = true;\n          this.sendMsg();\n          this.getCart();\n        }).catch((err) => {\n          [this.alert.msg] = err.response.data.message;\n          this.alert.state = false;\n          this.sendMsg();\n        });\n    },\n    delCartItem(id) {\n      delCartItem(id)\n        .then(() => {\n          this.alert.msg = 'Product deleted successfully!';\n          this.alert.state = true;\n          this.sendMsg();\n          this.getCart();\n        }).catch((err) => {\n          [this.alert.msg] = err.response.data.message;\n          this.alert.state = false;\n          this.sendMsg();\n        });\n    },\n  },\n  created() {\n    this.getCart();\n  },\n  mounted() {\n    this.$emitter.on('renewCart', () => {\n      this.getCart();\n    });\n  },\n  watch: {\n    carts(n, o) {\n      const last = JSON.stringify(n);\n      const pre = JSON.stringify(o);\n      if (last !== pre) {\n        this.$emitter.emit('renewCart');\n      }\n    },\n  },\n  mixins: [alertMixin],\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}