(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4be161e6"],{"04d1":function(e,t,n){var c=n("342f"),r=c.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},1799:function(e,t,n){"use strict";var c=n("7a23"),r={"aria-label":"Page navigation"},o={class:"pagination justify-content-center"},i=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),a=[i],s=["onClick"],l=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),d=[l];function u(e,t,n,i,l,u){var f,b,g;return Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",r,[Object(c["createElementVNode"])("ul",o,[Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!(null!==(f=n.pagination)&&void 0!==f&&f.has_pre)}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(e){return u.sendRequest(n.pagination.current_page-1)}),["prevent"]))},a)],2),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(null===(b=n.pagination)||void 0===b?void 0:b.total_pages,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:e,class:Object(c["normalizeClass"])(["page-item",{active:n.pagination.current_page===e}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(c["withModifiers"])((function(t){return u.sendRequest(e)}),["prevent"])},Object(c["toDisplayString"])(e),9,s)],2)})),128)),Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!(null!==(g=n.pagination)&&void 0!==g&&g.has_next)}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return u.sendRequest(n.pagination.current_page+1)}),["prevent"]))},d)],2)])])}var f={props:{pagination:{type:Object,default:function(){return{}}}},methods:{sendRequest:function(e){this.$emit("send-request",e)}},emits:["send-request"]},b=n("6b0d"),g=n.n(b);const h=g()(f,[["render",u]]);t["a"]=h},2532:function(e,t,n){"use strict";var c=n("23e7"),r=n("e330"),o=n("5a34"),i=n("1d80"),a=n("577e"),s=n("ab13"),l=r("".indexOf);c({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~l(a(i(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var c=n("861d"),r=n("c6b6"),o=n("b622"),i=o("match");e.exports=function(e){var t;return c(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},"4de4":function(e,t,n){"use strict";var c=n("23e7"),r=n("b727").filter,o=n("1dde"),i=o("filter");c({target:"Array",proto:!0,forced:!i},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,n){"use strict";var c=n("23e7"),r=n("e330"),o=n("59ed"),i=n("7b0b"),a=n("07fa"),s=n("577e"),l=n("d039"),d=n("addb"),u=n("a640"),f=n("04d1"),b=n("d998"),g=n("2d00"),h=n("512c"),p=[],m=r(p.sort),O=r(p.push),v=l((function(){p.sort(void 0)})),j=l((function(){p.sort(null)})),k=u("sort"),y=!l((function(){if(g)return g<70;if(!(f&&f>3)){if(b)return!0;if(h)return h<603;var e,t,n,c,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(c=0;c<47;c++)p.push({k:t+c,v:n})}for(p.sort((function(e,t){return t.v-e.v})),c=0;c<p.length;c++)t=p[c].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),E=v||!j||!k||!y,_=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:s(t)>s(n)?1:-1}};c({target:"Array",proto:!0,forced:E},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(y)return void 0===e?m(t):m(t,e);var n,c,r=[],s=a(t);for(c=0;c<s;c++)c in t&&O(r,t[c]);d(r,_(e)),n=r.length,c=0;while(c<n)t[c]=r[c++];while(c<s)delete t[c++];return t}})},"512c":function(e,t,n){var c=n("342f"),r=c.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},"5a34":function(e,t,n){var c=n("da84"),r=n("44e7"),o=c.TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},9564:function(e,t,n){"use strict";t["a"]={methods:{sendLoadingState:function(e){this.$emitter.emit("loading-state",e)}}}},a434:function(e,t,n){"use strict";var c=n("23e7"),r=n("da84"),o=n("23cb"),i=n("5926"),a=n("07fa"),s=n("7b0b"),l=n("65f0"),d=n("8418"),u=n("1dde"),f=u("splice"),b=r.TypeError,g=Math.max,h=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,c,r,u,f,O,v=s(this),j=a(v),k=o(e,j),y=arguments.length;if(0===y?n=c=0:1===y?(n=0,c=j-k):(n=y-2,c=h(g(i(t),0),j-k)),j+n-c>p)throw b(m);for(r=l(v,c),u=0;u<c;u++)f=k+u,f in v&&d(r,u,v[f]);if(r.length=c,n<c){for(u=k;u<j-c;u++)f=u+c,O=u+n,f in v?v[O]=v[f]:delete v[O];for(u=j;u>j-c+n;u--)delete v[u-1]}else if(n>c)for(u=j-c;u>k;u--)f=u+c-1,O=u+n-1,f in v?v[O]=v[f]:delete v[O];for(u=0;u<n;u++)v[u+k]=arguments[u+2];return v.length=j-c+n,r}})},ab13:function(e,t,n){var c=n("b622"),r=c("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(c){}}return!1}},addb:function(e,t,n){var c=n("4dae"),r=Math.floor,o=function(e,t){var n=e.length,s=r(n/2);return n<8?i(e,t):a(e,o(c(e,0,s),t),o(c(e,s),t),t)},i=function(e,t){var n,c,r=e.length,o=1;while(o<r){c=o,n=e[o];while(c&&t(e[c-1],n)>0)e[c]=e[--c];c!==o++&&(e[c]=n)}return e},a=function(e,t,n,c){var r=t.length,o=n.length,i=0,a=0;while(i<r||a<o)e[i+a]=i<r&&a<o?c(t[i],n[a])<=0?t[i++]:n[a++]:i<r?t[i++]:n[a++];return e};e.exports=o},c740:function(e,t,n){"use strict";var c=n("23e7"),r=n("b727").findIndex,o=n("44d2"),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),c({target:"Array",proto:!0,forced:a},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},caad:function(e,t,n){"use strict";var c=n("23e7"),r=n("4d64").includes,o=n("44d2");c({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d998:function(e,t,n){var c=n("342f");e.exports=/MSIE|Trident/.test(c)},e9c4:function(e,t,n){var c=n("23e7"),r=n("da84"),o=n("d066"),i=n("2ba4"),a=n("e330"),s=n("d039"),l=r.Array,d=o("JSON","stringify"),u=a(/./.exec),f=a("".charAt),b=a("".charCodeAt),g=a("".replace),h=a(1..toString),p=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,v=function(e,t,n){var c=f(n,t-1),r=f(n,t+1);return u(m,e)&&!u(O,r)||u(O,e)&&!u(m,c)?"\\u"+h(b(e,0),16):e},j=s((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&c({target:"JSON",stat:!0,forced:j},{stringify:function(e,t,n){for(var c=0,r=arguments.length,o=l(r);c<r;c++)o[c]=arguments[c];var a=i(d,null,o);return"string"==typeof a?g(a,p,v):a}})},ed84:function(e,t,n){"use strict";n.r(t);n("4e82");var c=n("7a23"),r={class:"container py-6 mt-100px mt-md-150px"},o={class:"d-flex justify-content-between align-items-center mb-5 flex-wrap"},i={class:"w-100 w-md-50 mb-4 mb-md-0"},a=Object(c["createElementVNode"])("p",{class:"text-start"}," FILTER BY ",-1),s={class:"nav"},l={class:"me-3 mb-3 mb-lg-0"},d=Object(c["createElementVNode"])("span",{class:"c-btn__text"},"All",-1),u=[d],f=["onClick"],b={class:"c-btn__text"},g=Object(c["createElementVNode"])("label",{name:"sort",class:"text-start text-md-end d-block mb-2"},"SORT BY",-1),h={class:"c-select"},p={class:"c-select__items z-2",role:"listbox",tabindex:"-1"},m=["onClick"],O={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 list-style-none ps-0"},v={class:"mb-3 product__img"},j=["src","alt"],k=["onClick"],y=["onClick"],E=["onClick"],_={key:0,class:"product__img__sale"},w=["onClick"],N={key:0,class:"text-muted"},x={class:"text-decoration-line-through text-danger"},C={key:1,class:"text-muted"},S=["onClick"],P=Object(c["createElementVNode"])("span",{class:"c-btn__text"},"Add to cart",-1),V=[P];function B(e,t,n,d,P,B){var D=Object(c["resolveComponent"])("BIconSuitHeartFill"),A=Object(c["resolveComponent"])("Pagination");return Object(c["openBlock"])(),Object(c["createElementBlock"])("main",r,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",i,[a,Object(c["createElementVNode"])("ul",s,[Object(c["createElementVNode"])("li",l,[Object(c["createElementVNode"])("a",{href:"#",class:"c-btn",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(e){return B.chooseCategory("All")}),["prevent"]))},u)]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(P.category.categories,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:"me-3",key:e},[Object(c["createElementVNode"])("a",{href:"#",class:"c-btn",onClick:Object(c["withModifiers"])((function(t){return B.chooseCategory(e)}),["prevent"])},[Object(c["createElementVNode"])("span",b,Object(c["toDisplayString"])(e),1)],8,f)])})),128))])]),Object(c["createElementVNode"])("div",null,[g,Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["c-select__selected",{"select__arrow-active":P.sort.isShow}]),onClick:t[1]||(t[1]=function(e){return P.sort.isShow=!P.sort.isShow}),"aria-haspopup":"listbox","aria-labelledby":"sort"},Object(c["toDisplayString"])(P.sort.selected),3)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("div",p,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(P.sort.sorts,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:e,onClick:function(t){return B.chooseSort(e)}},Object(c["toDisplayString"])(e),9,m)})),128))],512),[[c["vShow"],P.sort.isShow]])])]),Object(c["createElementVNode"])("ul",O,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(P.products,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:"col mb-7",key:e.id},[Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("img",{src:e.imageUrl,alt:e.title,class:"img-fluid rounded"},null,8,j),Object(c["createElementVNode"])("div",{class:"bg-dark product__img__lightbox",role:"button",onClick:Object(c["withModifiers"])((function(t){return B.getDetail(e.id)}),["self"])},null,8,k),Object(c["createElementVNode"])("div",{class:"product__img__text mb-3",role:"button",onClick:Object(c["withModifiers"])((function(t){return B.getDetail(e.id)}),["self"])}," Check Details ",8,y),Object(c["createElementVNode"])("div",{class:"product__img__like",onClick:function(t){return B.toggleFav(e.id)}},[Object(c["createVNode"])(D,{class:Object(c["normalizeClass"])({like:B.checkFav(e.id)})},null,8,["class"])],8,E),e.price!==e.origin_price?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",_," On Sale ")):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("p",{class:"mb-1 cursor-pointer fw-bold",onClick:function(t){return B.getDetail(e.id)}},Object(c["toDisplayString"])(e.title),9,w),e.price!==e.origin_price?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",N,[Object(c["createElementVNode"])("span",x," $"+Object(c["toDisplayString"])(e.origin_price),1),Object(c["createTextVNode"])(" $"+Object(c["toDisplayString"])(e.price)+" NTD / "+Object(c["toDisplayString"])(e.unit),1)])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",C," $"+Object(c["toDisplayString"])(e.origin_price)+" NTD / "+Object(c["toDisplayString"])(e.unit),1)),Object(c["createElementVNode"])("a",{href:"",class:"c-btn",onClick:Object(c["withModifiers"])((function(t){return B.addToCart(e.id)}),["prevent"])},V,8,S)])})),128))]),Object(c["createVNode"])(A,{pagination:P.pagination,onSendRequest:B.getProducts},null,8,["pagination","onSendRequest"])])}var D=n("3835"),A=(n("b64b"),n("4de4"),n("d3b7"),n("fb6a"),n("c740"),n("a434"),n("e9c4"),n("caad"),n("2532"),n("a397")),F=n("1b9e"),M=n("9564"),L=n("1799"),q={data:function(){return{category:{categories:["Nuts","Beans","Spices"],selected:"All"},sort:{sorts:["Name","Price: low to high","Price: high to low"],selected:"Please select",isShow:!1},products:[],pagination:[],allProducts:[],cacheProducts:[],data:{product_id:"",qty:1},favProducts:[]}},components:{Pagination:L["a"]},methods:{chooseSort:function(e){this.sort.selected=e,this.sort.isShow=!this.sort.isShow,this.getProducts(1,this.category.selected,e)},chooseCategory:function(e){this.category.selected=e,this.getProducts(1,e)},getAllProducts:function(){var e=this;this.sendLoadingState(!0),Object(A["u"])().then((function(t){e.sendLoadingState(!1),e.allProducts=t.data.products,0!==Object.keys(e.$route.query).length?e.chooseCategory(e.$route.query.category):e.getProducts()})).catch((function(){e.sendLoadingState(!1),e.alert.msg="Fail to get the products",e.alert.state=!1,e.sendMsg()}))},getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"All",c=arguments.length>2?arguments[2]:void 0;this.sendLoadingState(!0),setTimeout((function(){"Name"===c?e.allProducts.sort((function(e,t){return e.title.localeCompare(t.title)})):"Price: low to high"===c?e.allProducts.sort((function(e,t){return e.price-t.price})):"Price: high to low"===c&&e.allProducts.sort((function(e,t){return t.price-e.price})),"All"!==n?(e.cacheProducts=e.allProducts.filter((function(e){return e.category===n})),e.products=e.cacheProducts.slice(9*t-9,9*t)):e.products=e.allProducts.slice(9*t-9,9*t);var r=1!==t,o=t!==e.total_pages;e.pagination={total_pages:e.total_pages,current_page:t,has_pre:r,has_next:o,category:n},e.sendLoadingState(!1)}),1e3)},getDetail:function(e){this.$router.push("/product/".concat(e))},addToCart:function(e){var t=this;this.data.product_id=e,Object(A["d"])(this.data).then((function(){t.alert.msg="Product added to cart successfully!",t.alert.state=!0,t.sendMsg(),t.$emitter.emit("renewCart")})).catch((function(e){var n=Object(D["a"])(e.response.data.message,1);t.alert.msg=n[0],t.alert.state=!1,t.sendMsg()}))},toggleFav:function(e){var t=this.favProducts.findIndex((function(t){return t===e}));-1===t?this.favProducts.push(e):this.favProducts.splice(t,1);var n=JSON.stringify(this.favProducts);localStorage.setItem("favList",n)},checkFav:function(e){return this.favProducts.includes(e)}},created:function(){var e=this;this.getAllProducts(),this.$emitter.on("send-request",(function(t){e.getProducts(t)})),this.favProducts=JSON.parse(localStorage.getItem("favList"))||[]},mixins:[F["a"],M["a"]],computed:{total_pages:function(){return"All"!==this.category.selected?Math.floor(this.cacheProducts.length/9)+1:Math.floor(this.allProducts.length/9)+1}}},T=n("6b0d"),$=n.n(T);const I=$()(q,[["render",B]]);t["default"]=I}}]);
//# sourceMappingURL=chunk-4be161e6.86b0cbb5.js.map