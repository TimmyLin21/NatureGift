{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/views/front/Product.vue","webpack:///./src/views/front/Product.vue?1669","webpack:///./src/mixins/loadingMixin.js"],"names":["$","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","length","undefined","class","aria-label","aria-current","src","currentImg","alt","product","title","imageUrl","imagesUrl","image","key","to","category","description","unit","origin_price","price","minusQty","type","qty","min","href","addToCart","id","content","calories","carbohydrate","protein","fat","fiber","products","item","index","role","getDetail","data","product_id","methods","getProduct","sendLoadingState","$route","params","then","res","getProducts","catch","alert","msg","state","sendMsg","$router","replace","setTimeout","$emitter","emit","err","response","message","created","mixins","alertMixin","loadingMixin","__exports__","render"],"mappings":"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","file":"js/chunk-d15ff170.17ce11fc.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\n  <section class=\"container py-5 mt-100px mt-md-150px\">\n    <div class=\"row row-cols-1 row-cols-lg-2 mb-md-5\">\n      <div class=\"col\">\n        <img\n          :src=\"currentImg\"\n          :alt=\"product.title\"\n          class=\"w-100 border h-250px object-cover object-position-center\"\n        >\n        <div class=\"row row-cols-3 mt-3\">\n          <div class=\"col\">\n            <img\n              :src=\"product.imageUrl\"\n              :alt=\"product.title\"\n              class=\"w-100 object-cover object-position-center border h-100px cursor-pointer\"\n              @click=\"currentImg = product.imageUrl\"\n            >\n          </div>\n          <div\n            class=\"col\"\n            v-for=\"image in product.imagesUrl\"\n            :key=\"image\"\n          >\n            <img\n              :src=\"image\"\n              :alt=\"product.title\"\n              class=\"mw-100 object-cover object-position-center border h-100px cursor-pointer\"\n              @click=\"currentImg = image\"\n            >\n          </div>\n        </div>\n      </div>\n      <div class=\"col text-start\">\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\">\n              <router-link\n                to=\"/\"\n                class=\"text-decoration-none link-success\"\n              >\n                Home\n              </router-link>\n            </li>\n            <li class=\"breadcrumb-item\">\n              <router-link\n                to=\"/products\"\n                class=\"text-decoration-none link-success\"\n              >\n                Products\n              </router-link>\n            </li>\n            <li\n              class=\"breadcrumb-item active fw-bold\"\n              aria-current=\"page\"\n            >\n              {{ product.category }}\n            </li>\n          </ol>\n        </nav>\n        <h2 class=\"\">\n          {{ product.title }}\n        </h2>\n        <p class=\"text-muted\">\n          {{ product.description }}\n        </p>\n        <p class=\"text-muted mb-4\">\n          Weight: {{ product.unit }}\n        </p>\n        <p\n          class=\"h3 mb-4\"\n          v-if=\"product.origin_price === product.price\"\n        >\n          $ {{ product.price }}\n        </p>\n        <p\n          class=\"h3 mb-4\"\n          v-else\n        >\n          <span\n            class=\"text-danger text-decoration-line-through me-2\"\n          >\n            $ {{ product.origin_price }}\n          </span>\n          $ {{ product.price }}\n        </p>\n        <div class=\"d-flex mb-4 flex-wrap justify-content-center\">\n          <div class=\"qty me-md-5 w-100 w-md-auto\">\n            <span><BIconDashCircle\n              @click=\"minusQty\"\n              class=\"fs-4 link-secondary\"\n            /></span>\n            <input\n              class=\"text-center\"\n              type=\"number\"\n              v-model.number=\"qty\"\n              min=\"1\"\n            >\n            <span><BIconPlusCircle\n              @click=\"qty += 1\"\n              class=\"fs-4 link-secondary\"\n            /></span>\n          </div>\n          <a\n            href=\"#\"\n            class=\"c-btn mt-4 mt-md-0\"\n            @click.prevent=\"addToCart(product.id, qty)\"\n          >\n            <span class=\"c-btn__text\">Add to cart</span>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"row row-cols-1 row-cols-lg-2 mb-5\">\n      <div class=\"col text-start pt-5\">\n        <h3 class=\"mb-3\">\n          Description\n        </h3>\n        <p>{{ product.content }}</p>\n      </div>\n      <div class=\"col\">\n        <div class=\"c-table\">\n          <h4 class=\"text-white py-3\">\n            Nutritional Information\n          </h4>\n          <div class=\"c-table__body\">\n            <p><span />Per 100g</p>\n            <p>Energy (kg)<span>{{ product.calories }}</span></p>\n            <p>Carbohydrate (g)<span>{{ product.carbohydrate }}</span></p>\n            <p>Protein (g)<span>{{ product.protein }}</span></p>\n            <p>Fat (g)<span>{{ product.fat }}</span></p>\n            <p class=\"mb-0 border-0\">\n              Fiber (g)<span>{{ product.fiber }}</span>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <h3 class=\"mb-5\">\n      Have you tried?\n    </h3>\n    <ul class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 list-style-none ps-0\">\n      <template\n        v-for=\"(item, index) in products\"\n        :key=\"item.id\"\n      >\n        <li\n          class=\"col mb-4\"\n          v-if=\"index < 3\"\n        >\n          <div\n            class=\"mb-3 product__img\"\n            role=\"button\"\n            @click=\"getDetail(item.id)\"\n          >\n            <img\n              :src=\"item.imageUrl\"\n              :alt=\"item.title\"\n              class=\"img-fluid rounded\"\n            >\n            <div class=\"bg-dark product__img__lightbox\" />\n            <div class=\"product__img__text mb-3\">\n              Check Details\n            </div>\n          </div>\n          <p class=\"mb-1\">\n            {{ item.title }}\n          </p>\n          <p class=\"text-muted\">\n            ${{ item.price }} NTD / {{ item.unit }}\n          </p>\n          <a\n            href=\"\"\n            class=\"c-btn\"\n            @click.prevent=\"addToCart(item.id)\"\n          >\n            <span class=\"c-btn__text\">Add to cart</span>\n          </a>\n        </li>\n      </template>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { getProduct, getProducts, addToCart } from '@/scripts/api';\nimport alertMixin from '@/mixins/alertMixin';\nimport loadingMixin from '@/mixins/loadingMixin';\n\nexport default {\n  data() {\n    return {\n      product: [],\n      products: [],\n      currentImg: '',\n      qty: 1,\n      data: {\n        product_id: '',\n        qty: 1,\n      },\n    };\n  },\n  methods: {\n    getProduct() {\n      this.sendLoadingState(true);\n      getProduct(this.$route.params.id)\n        .then((res) => {\n          this.product = res.data.product;\n          this.currentImg = this.product.imageUrl;\n          this.getProducts();\n        }).catch(() => {\n          this.alert.msg = 'Fail to get the product';\n          this.alert.state = false;\n          this.sendMsg();\n          this.sendLoadingState(false);\n        });\n    },\n    getProducts() {\n      getProducts(1, this.product.category)\n        .then((res) => {\n          this.products = res.data.products.filter((item) => item.id !== this.product.id);\n          this.sendLoadingState(false);\n        }).catch(() => {\n          this.alert.msg = 'Fail to get the products';\n          this.alert.state = false;\n          this.sendMsg();\n          this.sendLoadingState(false);\n        });\n    },\n    getDetail(id) {\n      this.$router.replace(`/product/${id}`);\n      setTimeout(() => {\n        this.getProduct();\n      }, 0);\n    },\n    addToCart(id, qty = 1) {\n      this.data.product_id = id;\n      this.data.qty = qty;\n      if (this.data.qty < 0) {\n        this.alert.msg = 'Quantity should more than 0.';\n        this.alert.state = false;\n        this.sendMsg();\n      } else {\n        addToCart(this.data)\n          .then(() => {\n            this.alert.msg = 'Product added to cart successfully!';\n            this.alert.state = true;\n            this.sendMsg();\n            this.qty = 1;\n            this.$emitter.emit('renewCart');\n          }).catch((err) => {\n            [this.alert.msg] = err.response.data.message;\n            this.alert.state = false;\n            this.sendMsg();\n          });\n      }\n    },\n    minusQty() {\n      if (this.qty > 1) {\n        this.qty -= 1;\n      }\n    },\n  },\n  created() {\n    this.getProduct();\n  },\n  mixins: [alertMixin, loadingMixin],\n};\n</script>\n","import { render } from \"./Product.vue?vue&type=template&id=4b9d2284\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/pinkpanther/Desktop/Front End/Vue/直播班/nature-gift/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\n  methods: {\n    sendLoadingState(state) {\n      this.$emitter.emit('loading-state', state);\n    },\n  },\n};\n"],"sourceRoot":""}